<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yeosin.member.UserDao" >
	<resultMap id="UserResultMap" type="com.yeosin.member.UserDto" >
		<id column="USERID" property="userId" jdbcType="VARCHAR" />
		<result column="USERNAME" property="userName" jdbcType="VARCHAR" />
		<result column="PASSWORD" property="password" jdbcType="CHAR" />
		<result column="ISPRIVACY" property="isPrivacy" jdbcType="VARCHAR" />
		<result column="ENGUSERNAMEFIRST" property="engUserNameFirst" jdbcType="TIMESTAMP" />
		<result column="ENGUSERNAMELAST" property="engUserNameFirst" jdbcType="VARCHAR" />
		<result column="TELNUMBER" property="telNumber" jdbcType="VARCHAR" />
		<result column="PHONENUMBER" property="phoneNumber" jdbcType="VARCHAR" />
		<result column="EMAIL" property="email" jdbcType="VARCHAR" />
		<result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
		<result column="CREATETIME" property="createTime" jdbcType="VARCHAR" />
		<result column="TESTNUMBER" property="testNumber" jdbcType="VARCHAR" />
		<result column="BIRTHDAY" property="birthDay" jdbcType="VARCHAR" />
		<result column="VALIDSTATE" property="validState" jdbcType="VARCHAR" />
	</resultMap>
	<select id="getLoginUser" parameterType="com.yeosin.member.UserDto" resultType="String">
      SELECT 
			(
				CASE
					WHEN EXISTS (
						SELECT 
							1
						FROM YS_USER USER
						WHERE USER.USERID = #{userId, jdbcType=VARCHAR}
						AND USER.PASSWORD = #{password, jdbcType=VARCHAR}
						)
					THEN 'Y'
					ELSE 'N'
				END
			) as EXISTS_YN
		FROM DUAL
   </select>
</mapper>
